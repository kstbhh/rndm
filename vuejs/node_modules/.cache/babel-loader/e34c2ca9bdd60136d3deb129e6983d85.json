{"remainingRequest":"C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\src\\views\\page\\GoVideo.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\src\\views\\page\\GoVideo.vue","mtime":1600781654000},{"path":"C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598802962590},{"path":"C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1598802962851},{"path":"C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\babel-loader\\lib\\index.js","mtime":1590152956206},{"path":"C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1598802962590},{"path":"C:\\Users\\Souvik\\Desktop\\gindex-v4-8.2.4\\vuejs\\node_modules\\vue-loader\\lib\\index.js","mtime":1598802986487}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN1YiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1NvdXZpay9EZXNrdG9wL2dpbmRleC12NC04LjIuNC92dWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvU291dmlrL0Rlc2t0b3AvZ2luZGV4LXY0LTguMi40L3Z1ZWpzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL1NvdXZpay9EZXNrdG9wL2dpbmRleC12NC04LjIuNC92dWVqcy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGFwaVJvdXRlcywgYmFja2VuZEhlYWRlcnMgfSBmcm9tICJAL3V0aWxzL2JhY2tlbmRVdGlscyI7CmltcG9ydCB7IGdldEl0ZW0gfSBmcm9tICdAdXRpbHMvZW5jcnlwdFV0aWxzJzsKaW1wb3J0IHsgaW5pdGlhbGl6ZVVzZXIgYXMgX2luaXRpYWxpemVVc2VyLCBnZXRnZHMsIHNjcm9sbFRvIH0gZnJvbSAiQHV0aWxzL2xvY2FsVXRpbHMiOwppbXBvcnQgeyBmb3JtYXREYXRlLCBmb3JtYXRGaWxlU2l6ZSwgY2hlY2tvdXRQYXRoLCBjaGVja1ZpZXcgfSBmcm9tICJAdXRpbHMvQWNyb3VVdGlsIjsKaW1wb3J0IExvYWRpbmcgZnJvbSAndnVlLWxvYWRpbmctb3ZlcmxheSc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IGRlY29kZTY0IH0gZnJvbSAiQHV0aWxzL0Fjcm91VXRpbCI7CmltcG9ydCB7IHNydDJ2dHQsIHBsYXllcnMgYXMgX3BsYXllcnMgfSBmcm9tICJAdXRpbHMvcGxheVV0aWxzIjsKaW1wb3J0IG5vdGlmeSBmcm9tICJAL2NvbXBvbmVudHMvbm90aWZpY2F0aW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIG1ldGFJbmZvOiBmdW5jdGlvbiBtZXRhSW5mbygpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6IHRoaXMubWV0YXRpdGxlLAogICAgICB0aXRsZVRlbXBsYXRlOiBmdW5jdGlvbiB0aXRsZVRlbXBsYXRlKHRpdGxlQ2h1bmspIHsKICAgICAgICBpZiAodGl0bGVDaHVuayAmJiBfdGhpcy5zaXRlTmFtZSkgewogICAgICAgICAgcmV0dXJuIHRpdGxlQ2h1bmsgPyAiIi5jb25jYXQodGl0bGVDaHVuaywgIiB8ICIpLmNvbmNhdChfdGhpcy5zaXRlTmFtZSkgOiAiIi5jb25jYXQoX3RoaXMuc2l0ZU5hbWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gIkxvYWRpbmcuLi4iOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZXRhdGl0bGU6ICIiLAogICAgICBhcGl1cmw6ICIiLAogICAgICBleHRlcm5hbFVybDogIiIsCiAgICAgIGRvd25sb2FkVXJsOiAiIiwKICAgICAgdmlkZW91cmw6ICIiLAogICAgICBwb3N0ZXI6ICIiLAogICAgICB3aW5kb3dXaWR0aDogd2luZG93LmlubmVyV2lkdGgsCiAgICAgIHNjcmVlbldpZHRoOiBzY3JlZW4ud2lkdGgsCiAgICAgIG1haW5Mb2FkOiBmYWxzZSwKICAgICAgZnVsbHBhZ2U6IHRydWUsCiAgICAgIGlzbW9iaWxlOiBmYWxzZSwKICAgICAgdXNlcjoge30sCiAgICAgIHRva2VuOiB7fSwKICAgICAgc2VhcmNoQmFyVGVybTogIiIsCiAgICAgIHNlYXJjaEJhcmZhSWNvbjogImZhYiBmYS1zZWFyY2hlbmdpbiIsCiAgICAgIHZpZGVva2V5OiAwLAogICAgICBtZWRpYVRva2VuOiAiIiwKICAgICAgbW9kYWw6IGZhbHNlLAogICAgICBpbmZpbml0ZUlkOiArbmV3IERhdGUoKSwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgc3VidXJsOiBbXSwKICAgICAgc3ViOiBmYWxzZSwKICAgICAgZGVzYzogZmFsc2UsCiAgICAgIHN1Yk1vZGFsOiBmYWxzZSwKICAgICAgc3ViQnV0TG9hZDogZmFsc2UsCiAgICAgIHN1YnJpcHVybDogIiIsCiAgICAgIHZpZGVvRGF0YToge30sCiAgICAgIHBhcnNlZERhdGE6IHt9LAogICAgICBjdXJyVmRJbmZvOiB7fSwKICAgICAgcHJldlJvdXRlOiBnZXRJdGVtKCJwcmV2IiksCiAgICAgIGRhdGFQcmVzZW50OiBmYWxzZSwKICAgICAgaW5mb1BhbmVsOiB0cnVlLAogICAgICBpbmZvQ2hhbmdlOiAwLAogICAgICBjdXN0c3VibGFiZWw6ICIiLAogICAgICBzdWNjZXNzTWVzc2FnZTogZmFsc2UsCiAgICAgIHJlc3VsdG1lc3NhZ2U6ICIiLAogICAgICBwbGF5aWNvbjogImZhcyBmYS1zcGlubmVyIGZhLXB1bHNlIiwKICAgICAgcGxheXRleHQ6ICJMb2FkaW5nIFN0dWZmcy4uLi4iLAogICAgICB2aWRlb25hbWU6ICIiLAogICAgICB2aWRlb21vZGFsOiBmYWxzZSwKICAgICAgbW9kYWxWaWRlbzogIiIsCiAgICAgIGxvYWRJbWFnZTogIiIsCiAgICAgIGdkczogW10sCiAgICAgIGN1cnJnZDoge30sCiAgICAgIHBhZ2U6IHsKICAgICAgICBwYWdlX3Rva2VuOiBudWxsLAogICAgICAgIHBhZ2VfaW5kZXg6IDAKICAgICAgfSwKICAgICAgZmlsZXM6IFtdLAogICAgICBwbGF5ZXI6IHt9LAogICAgICB2aWV3ZXI6IGZhbHNlLAogICAgICBpY29uOiB7CiAgICAgICAgInZpZGVvL21wNCI6ICJpY29uLW1wIiwKICAgICAgICAidmlkZW8veC1tYXRyb3NrYSI6ICJpY29uLW1rdiIsCiAgICAgICAgInZpZGVvL3gtbXN2aWRlbyI6ICJpY29uLWF2aSIsCiAgICAgICAgInZpZGVvL3dlYm0iOiAiaWNvbi13ZWJtIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaW5maW5pdGVIYW5kbGVyOiBmdW5jdGlvbiBpbmZpbml0ZUhhbmRsZXIoJHN0YXRlKSB7CiAgICAgIC8vIFRoZSBmaXJzdCB0aW1lIHlvdSBlbnRlciB0aGUgcGFnZSBkb2VzIG5vdCBleGVjdXRlIHRoZSBzY3JvbGwgZXZlbnQKICAgICAgaWYgKCF0aGlzLnBhZ2UucGFnZV90b2tlbikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5wYWdlLnBhZ2VfdG9rZW4rKzsKICAgICAgdGhpcy5yZW5kZXIoJHN0YXRlKTsKICAgIH0sCiAgICBpbml0aWFsaXplVXNlcjogZnVuY3Rpb24gaW5pdGlhbGl6ZVVzZXIoKSB7CiAgICAgIHZhciB1c2VyRGF0YSA9IF9pbml0aWFsaXplVXNlcigpOwoKICAgICAgaWYgKHVzZXJEYXRhLmlzVGhlcmUpIHsKICAgICAgICBpZiAodXNlckRhdGEudHlwZSA9PSAiaHlicmlkIikgewogICAgICAgICAgdGhpcy51c2VyID0gdXNlckRhdGEuZGF0YS51c2VyOwogICAgICAgICAgdGhpcy5sb2dnZWQgPSB1c2VyRGF0YS5kYXRhLmxvZ2dlZDsKICAgICAgICB9IGVsc2UgaWYgKHVzZXJEYXRhLnR5cGUgPT0gIm5vcm1hbCIpIHsKICAgICAgICAgIHRoaXMudXNlciA9IHVzZXJEYXRhLmRhdGEudXNlcjsKICAgICAgICAgIHRoaXMudG9rZW4gPSB1c2VyRGF0YS5kYXRhLnRva2VuOwogICAgICAgICAgdGhpcy5sb2dnZWQgPSB1c2VyRGF0YS5kYXRhLmxvZ2dlZDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2dnZWQgPSB1c2VyRGF0YS5kYXRhLmxvZ2dlZDsKICAgICAgfQoKICAgICAgdGhpcy5nZXRWaWRlb3VybCgpOwogICAgfSwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCRzdGF0ZSkgewogICAgICB0aGlzLnBsYXllciA9IHRoaXMuJHJlZnMucGx5ci5wbGF5ZXI7CiAgICAgIHRoaXMubWFpbkxvYWQgPSB0cnVlOwogICAgICB0aGlzLmluaXRpYWxpemVVc2VyKCk7CiAgICAgIHRoaXMuZ2V0RmlsZXMoJHN0YXRlKTsKICAgICAgdGhpcy5nZXRWaWRlb0RhdGEoZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMudmlkZW9uYW1lLnNwbGl0KCcuJykuc2xpY2UoMCwgLTEpLmpvaW4oJy4nKSkpOwogICAgICB0aGlzLmNoZWNrTW9iaWxlKCk7CiAgICAgIHRoaXMubWFpbkxvYWQgPSBmYWxzZTsgLy8gaWYoIXRoaXMuaW5mb1BhbmVsKSB0aGlzLnBsYXllci5wbGF5KCk7CiAgICB9LAogICAgZ2V0RmlsZXM6IGZ1bmN0aW9uIGdldEZpbGVzKCRzdGF0ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubWV0YXRpdGxlID0gIkxvYWRpbmcuLi4iOwogICAgICB2YXIgcGF0aCA9IHRoaXMudXJsLnNwbGl0KHRoaXMudXJsLnNwbGl0KCcvJykucG9wKCkpWzBdOwogICAgICB2YXIgcGFzc3dvcmQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicGFzc3dvcmQiICsgcGF0aCk7CgogICAgICB2YXIgcCA9IF9vYmplY3RTcHJlYWQoewogICAgICAgIHE6ICIiLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCB8fCBudWxsCiAgICAgIH0sIHRoaXMucGFnZSk7CgogICAgICB0aGlzLmF4aW9zLnBvc3QocGF0aCwgcCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGJvZHkgPSByZXMuZGF0YTsKCiAgICAgICAgaWYgKGJvZHkpIHsKICAgICAgICAgIC8vIERldGVybWluZSB0aGUgcmVzcG9uc2Ugc3RhdHVzCiAgICAgICAgICBpZiAoYm9keS5lcnJvciAmJiBib2R5LmVycm9yLmNvZGUgPT0gIjQwMSIpIHsKICAgICAgICAgICAgX3RoaXMyLmNoZWNrUGFzc3dvcmQocGF0aCk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGRhdGEgPSBib2R5LmRhdGE7CiAgICAgICAgICBpZiAoIWRhdGEpIHJldHVybjsKICAgICAgICAgIF90aGlzMi5wYWdlID0gewogICAgICAgICAgICBwYWdlX3Rva2VuOiBib2R5Lm5leHRQYWdlVG9rZW4sCiAgICAgICAgICAgIHBhZ2VfaW5kZXg6IGJvZHkuY3VyUGFnZUluZGV4CiAgICAgICAgICB9OwoKICAgICAgICAgIGlmICgkc3RhdGUpIHsKICAgICAgICAgICAgdmFyIF90aGlzMiRvcmlnaW5hbEZpbGVzOwoKICAgICAgICAgICAgKF90aGlzMiRvcmlnaW5hbEZpbGVzID0gX3RoaXMyLm9yaWdpbmFsRmlsZXMpLnB1c2guYXBwbHkoX3RoaXMyJG9yaWdpbmFsRmlsZXMsIF90b0NvbnN1bWFibGVBcnJheShfdGhpczIuYnVpbGRGaWxlcyhkYXRhLmZpbGVzKSkpOwoKICAgICAgICAgICAgX3RoaXMyLmZpbGVzLnB1c2goX3RoaXMyLmdldEZpbHRlcmVkRmlsZXMuYXBwbHkoX3RoaXMyLCBfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMyLmJ1aWxkRmlsZXMoZGF0YS5maWxlcykpKSk7CgogICAgICAgICAgICBfdGhpczIuY3VyclZkSW5mbyA9IF90aGlzMi5nZXRDdXJyVmRJbmZvLmFwcGx5KF90aGlzMiwgX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMi5idWlsZEZpbGVzKGRhdGEuZmlsZXMpKSlbMF07CgogICAgICAgICAgICBfdGhpczIuY2hlY2tTdWJ1cmwoKTsKCiAgICAgICAgICAgIF90aGlzMi5nZXRQb3N0ZXIoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi5vcmlnaW5hbEZpbGVzID0gX3RoaXMyLmJ1aWxkRmlsZXMoZGF0YS5maWxlcyk7CiAgICAgICAgICAgIF90aGlzMi5maWxlcyA9IF90aGlzMi5nZXRGaWx0ZXJlZEZpbGVzKF90aGlzMi5idWlsZEZpbGVzKGRhdGEuZmlsZXMpKTsKCiAgICAgICAgICAgIF90aGlzMi5jaGVja1N1YnVybCgpOwoKICAgICAgICAgICAgX3RoaXMyLmN1cnJWZEluZm8gPSBfdGhpczIuZ2V0Q3VyclZkSW5mbyhfdGhpczIuYnVpbGRGaWxlcyhkYXRhLmZpbGVzKSlbMF07CgogICAgICAgICAgICBfdGhpczIuZ2V0UG9zdGVyKCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoYm9keS5uZXh0UGFnZVRva2VuKSB7CiAgICAgICAgICBfdGhpczIuJHJlZnMuaW5maW5pdGUuc3RhdGVDaGFuZ2VyLmxvYWRlZCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJHJlZnMuaW5maW5pdGUuc3RhdGVDaGFuZ2VyLmNvbXBsZXRlKCk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIH0pOwogICAgfSwKICAgIGJ1aWxkRmlsZXM6IGZ1bmN0aW9uIGJ1aWxkRmlsZXMoZmlsZXMpIHsKICAgICAgdGhpcy5tZXRhdGl0bGUgPSBkZWNvZGVVUklDb21wb25lbnQodGhpcy51cmwuc3BsaXQoJy8nKS5wb3AoKS5zcGxpdCgnLicpLnNsaWNlKDAsIC0xKS5qb2luKCcuJykpOwogICAgICB2YXIgcGF0aCA9IHRoaXMudXJsLnNwbGl0KHRoaXMudXJsLnNwbGl0KCcvJykucG9wKCkpWzBdOwogICAgICByZXR1cm4gIWZpbGVzID8gW10gOiBmaWxlcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgcCA9IHBhdGggKyBjaGVja291dFBhdGgoaXRlbS5uYW1lLCBpdGVtKTsKICAgICAgICB2YXIgaXNGb2xkZXIgPSBpdGVtLm1pbWVUeXBlID09PSAiYXBwbGljYXRpb24vdm5kLmdvb2dsZS1hcHBzLmZvbGRlciI7CiAgICAgICAgdmFyIHNpemUgPSBpc0ZvbGRlciA/ICItIiA6IGZvcm1hdEZpbGVTaXplKGl0ZW0uc2l6ZSk7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7CiAgICAgICAgICBwYXRoOiBwCiAgICAgICAgfSwgaXRlbSksIHt9LCB7CiAgICAgICAgICBtb2RpZmllZFRpbWU6IGZvcm1hdERhdGUoaXRlbS5tb2RpZmllZFRpbWUpLAogICAgICAgICAgc2l6ZTogc2l6ZSwKICAgICAgICAgIGlzRm9sZGVyOiBpc0ZvbGRlcgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBjaGVja1Bhc3N3b3JkOiBmdW5jdGlvbiBjaGVja1Bhc3N3b3JkKHBhdGgpIHsKICAgICAgdmFyIHBhc3MgPSBwcm9tcHQodGhpcy4kdCgibGlzdC5hdXRoIiksICIiKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInBhc3N3b3JkIiArIHBhdGgsIHBhc3MpOwoKICAgICAgaWYgKHBhc3MgIT0gbnVsbCAmJiBwYXNzICE9ICIiKSB7CiAgICAgICAgdGhpcy5yZW5kZXIocGF0aCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrTW9iaWxlOiBmdW5jdGlvbiBjaGVja01vYmlsZSgpIHsKICAgICAgdmFyIHdpZHRoID0gdGhpcy53aW5kb3dXaWR0aCA+IDAgPyB0aGlzLndpbmRvd1dpZHRoIDogdGhpcy5zY3JlZW5XaWR0aDsKCiAgICAgIGlmICh3aWR0aCA+IDk2NikgewogICAgICAgIHRoaXMuaXNtb2JpbGUgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzbW9iaWxlID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGNoZWNrU3VidXJsOiBmdW5jdGlvbiBjaGVja1N1YnVybCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgdG9rcyA9IHRoaXMudmlkZW9uYW1lLnNwbGl0KCcuJyk7CiAgICAgIHZhciBwYXRoU2Fuc0V4dCA9IHRva3Muc2xpY2UoMCwgLTEpLmpvaW4oJy4nKTsKICAgICAgdmFyIHJlZ2V4dCA9IG5ldyBSZWdFeHAoIig/PG5hbWU+Ii5jb25jYXQocGF0aFNhbnNFeHQsICIpIikgKyAnXFwuKD88bGFiZWw+W1xcc1xcU1xcRF0rKVxcLig/PGZvcm1hdD5zcnR8dnR0KScpOwogICAgICByZXR1cm4gdGhpcy5vcmlnaW5hbEZpbGVzLmZvckVhY2goIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoaXRlbSkgewogICAgICAgICAgdmFyIHVybCwgYmxvYiwgZ3JvdXBzLCBfdXJsLCBfYmxvYjsKCiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgIGlmICghKGl0ZW0ubmFtZSA9PSBwYXRoU2Fuc0V4dCArICIuc3J0IiB8fCBpdGVtLm5hbWUgPT0gcGF0aFNhbnNFeHQgKyAiLnZ0dCIpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHVybCA9IGl0ZW0ucGF0aCArICI/cGxheWVyPWludGVybmFsIiArICImdG9rZW49IiArIF90aGlzMy50b2tlbi50b2tlbiArICImZW1haWw9IiArIF90aGlzMy51c2VyLmVtYWlsOwogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRTcnRGaWxlKHVybCk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICBibG9iID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICAgIGlmIChibG9iLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3ViID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICJTdWJ0aXRsZSBMb2FkZWQiLAogICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkRvbmUiLAogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImluZm8iCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy5zdWJ1cmwgPSBfdGhpczMuc3VidXJsLmNvbmNhdChbewogICAgICAgICAgICAgICAgICAgICAgdXJsOiBibG9iLmJsb2JEYXRhLAogICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICJEZWZhdWx0IgogICAgICAgICAgICAgICAgICAgIH1dKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczMudmlkZW9rZXkgPSBfdGhpczMudmlkZW9rZXkgKyAxOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5zdWIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3VidXJsID0gW107CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4dC50ZXN0KGl0ZW0ubmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGdyb3VwcyA9IHJlZ2V4dC5leGVjKGl0ZW0ubmFtZSkuZ3JvdXBzOwogICAgICAgICAgICAgICAgICBfdXJsID0gaXRlbS5wYXRoICsgIj9wbGF5ZXI9aW50ZXJuYWwiICsgIiZ0b2tlbj0iICsgX3RoaXMzLnRva2VuLnRva2VuICsgIiZlbWFpbD0iICsgX3RoaXMzLnVzZXIuZW1haWw7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5nZXRTcnRGaWxlKF91cmwpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgIF9ibG9iID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICAgIGlmIChfYmxvYi5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnN1YiA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAiU3VidGl0bGUgTG9hZGVkIiwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICJEb25lIiwKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJpbmZvIgogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3VidXJsID0gX3RoaXMzLnN1YnVybC5jb25jYXQoW3sKICAgICAgICAgICAgICAgICAgICAgIHVybDogX2Jsb2IuYmxvYkRhdGEsCiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZ3JvdXBzLmxhYmVsCiAgICAgICAgICAgICAgICAgICAgfV0pOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy52aWRlb2tleSA9IF90aGlzMy52aWRlb2tleSArIDE7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnN1YiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIF90aGlzMy5zdWJ1cmwgPSBbXTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgICBfdGhpczMuc3ViID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5zdWJ1cmwgPSBbXTsKCiAgICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIGdldFZpZGVvRGF0YTogZnVuY3Rpb24gZ2V0VmlkZW9EYXRhKHRpdGxlKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucHJldlJvdXRlID09ICJ2aWRlbyIpIHsKICAgICAgICB0aGlzLmRhdGFQcmVzZW50ID0gZmFsc2U7CiAgICAgICAgdGhpcy5pbmZvUGFuZWwgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy4kYmFja2VuZC5wb3N0KGFwaVJvdXRlcy5nZXRNZWRpYURhdGEsIHsKICAgICAgICBlbWFpbDogdGhpcy51c2VyLmVtYWlsLAogICAgICAgIHRpdGxlOiB0aXRsZQogICAgICB9LCBiYWNrZW5kSGVhZGVycyh0aGlzLnRva2VuLnRva2VuKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5hdXRoICYmIHJlc3BvbnNlLmRhdGEucmVnaXN0ZXJlZCAmJiByZXNwb25zZS5kYXRhLmRhdGEpIHsKICAgICAgICAgIF90aGlzNC5kYXRhUHJlc2VudCA9IHRydWU7CiAgICAgICAgICBfdGhpczQudmlkZW9EYXRhID0gcmVzcG9uc2UuZGF0YS5yZXN1bHQ7CiAgICAgICAgICBfdGhpczQucGFyc2VkRGF0YSA9IHJlc3BvbnNlLmRhdGEucGFyc2VkRGF0YTsKICAgICAgICAgIGlmICghX3RoaXM0LmluZm9QYW5lbCkgX3RoaXM0LnBsYXllci5wbGF5KCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNC5wbGF5ZXIucGxheSgpOwoKICAgICAgICAgIF90aGlzNC5kYXRhUHJlc2VudCA9IGZhbHNlOwogICAgICAgICAgX3RoaXM0LmluZm9QYW5lbCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0U3J0RmlsZTogZnVuY3Rpb24gZ2V0U3J0RmlsZSh1cmwpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgc3J0LCBibG9iLCBzcnRCbG9iOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRiYWNrZW5kLmdldCh1cmwpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBzcnQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGJsb2IgPSBuZXcgQmxvYihbc3J0MnZ0dChzcnQuZGF0YSldLCB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0L3Z0dCcKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc3J0QmxvYiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgICBibG9iRGF0YTogc3J0QmxvYiwKICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gOTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB7CiAgICAgICAgICAgICAgICAgIGJsb2JEYXRhOiBudWxsLAogICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9hZEN1c3RvbVN1YjogZnVuY3Rpb24gbG9hZEN1c3RvbVN1Yih1cmwsIGxhYmVsKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHVybFJlZ2V4LCBibG9iLCBnZXRVcmwsIF9ibG9iMjsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNi5zdWJCdXRMb2FkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHVybFJlZ2V4ID0gLyhodHRwOlwvXC98aHR0cHM6XC9cL1tcc1xTXSspLzsKCiAgICAgICAgICAgICAgICBpZiAoIXVybFJlZ2V4LnRlc3QodXJsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuZ2V0U3J0RmlsZSh1cmwpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBibG9iID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGJsb2Iuc3VjY2VzcykgewogICAgICAgICAgICAgICAgICBfdGhpczYuc3VidXJsID0gX3RoaXM2LnN1YnVybC5jb25jYXQoW3sKICAgICAgICAgICAgICAgICAgICB1cmw6IGJsb2IuYmxvYkRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsCiAgICAgICAgICAgICAgICAgIH1dKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlN1YnRpdGxlIExvYWRlZCIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkRvbmUiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJpbmZvIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi52aWRlb2tleSA9IF90aGlzNi52aWRlb2tleSArIDE7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5zdWNjZXNzTWVzc2FnZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5yZXN1bHRtZXNzYWdlID0gIlN1YnRpdGxlIExvYWRlZCBTdWNjZXNzZnVsbHkgISI7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5zdWJCdXRMb2FkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5zdWJNb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnN1Y2Nlc3NNZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlc3VsdG1lc3NhZ2UgPSAiRXJyb3IgTG9hZGluZyB0aGUgU3VidGl0bGUuIFBsZWFzZSBDaGVjayBZb3VyIExpbmsuIjsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnN1YkJ1dExvYWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGdldFVybCA9ICIvIiArIF90aGlzNi5jdXJyZ2QuaWQgKyAiOi8iICsgdXJsICsgIj9wbGF5ZXI9aW50ZXJuYWwiICsgIiZ0b2tlbj0iICsgX3RoaXM2LnRva2VuLnRva2VuICsgIiZlbWFpbD0iICsgX3RoaXM2LnVzZXIuZW1haWw7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRTcnRGaWxlKGdldFVybCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfYmxvYjIgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoX2Jsb2IyLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnN1YnVybCA9IF90aGlzNi5zdWJ1cmwuY29uY2F0KFt7CiAgICAgICAgICAgICAgICAgICAgdXJsOiBfYmxvYjIuYmxvYkRhdGEsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsCiAgICAgICAgICAgICAgICAgIH1dKTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnZpZGVva2V5ID0gX3RoaXM2LnZpZGVva2V5ICsgMTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi4kbm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogIlN1YnRpdGxlIExvYWRlZCIsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIkRvbmUiLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJpbmZvIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNi5zdWNjZXNzTWVzc2FnZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5yZXN1bHRtZXNzYWdlID0gIlN1YnRpdGxlIExvYWRlZCBTdWNjZXNzZnVsbHkgISI7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5zdWJCdXRMb2FkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNi5zdWJNb2RhbCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9LCAzMDApOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnN1Y2Nlc3NNZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnJlc3VsdG1lc3NhZ2UgPSAiRXJyb3IgTG9hZGluZyB0aGUgU3VidGl0bGUuIFBsZWFzZSBDaGVjayBZb3VyIExpbmsuIjsKICAgICAgICAgICAgICAgICAgX3RoaXM2LnN1YkJ1dExvYWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvYWRGbHY6IGZ1bmN0aW9uIGxvYWRGbHYob3B0aW9ucykgewogICAgICBpbXBvcnQoIkAvcGx1Z2luL3ZpZGVvLXBsdWdpbnMvZmx2IikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIEZsdiA9IHJlcy5kZWZhdWx0OwogICAgICAgIEZsdihvcHRpb25zKTsKICAgICAgfSk7CiAgICB9LAogICAgdGh1bTogZnVuY3Rpb24gdGh1bSh1cmwpIHsKICAgICAgcmV0dXJuIHVybCA/ICIvIi5jb25jYXQodGhpcy4kcm91dGUucGFyYW1zLmlkLCAiOnZpZXc/dXJsPSIpLmNvbmNhdCh1cmwpIDogIiI7CiAgICB9LAogICAgY29weTogZnVuY3Rpb24gY29weSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLiRub3RpZnkoewogICAgICAgIHRpdGxlOiAiUHJvY2Vzc2luZyIsCiAgICAgICAgbWVzc2FnZTogIkdlbmVyYXRpbmcgU3RyZWFtaW5nIExpbmtzIiwKICAgICAgICB0eXBlOiAiaW5mbyIKICAgICAgfSk7CiAgICAgIHRoaXMubWFpbkxvYWQgPSB0cnVlOwogICAgICB0aGlzLiRiYWNrZW5kLnBvc3QoYXBpUm91dGVzLm1lZGlhVG9rZW5UcmFuc21pdHRlciwgewogICAgICAgIGVtYWlsOiB0aGlzLnVzZXIuZW1haWwsCiAgICAgICAgdG9rZW46IHRoaXMudG9rZW4udG9rZW4KICAgICAgfSwgYmFja2VuZEhlYWRlcnModGhpcy50b2tlbi50b2tlbikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYXV0aCAmJiByZXNwb25zZS5kYXRhLnJlZ2lzdGVyZWQgJiYgcmVzcG9uc2UuZGF0YS50b2tlbikgewogICAgICAgICAgdmFyIGxpbmsgPSBfdGhpczcudmlkZW91cmwgKyAiP3BsYXllcj1leHRlcm5hbCIgKyAiJmVtYWlsPSIgKyBfdGhpczcudXNlci5lbWFpbCArICImdG9rZW49IiArIHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgICBfdGhpczcubWFpbkxvYWQgPSBmYWxzZTsKICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGxpbmspLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAiQ29waWVkICEhIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAiU3VjY2Vzc2Z1bGx5IENvcGllZC4iLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgbm90aWZ5KHsKICAgICAgICAgICAgICB0aXRsZTogIkZhaWxlZCIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIkZhaWxlZCB0byBDb3BpZWQgLSAiICsgZXJyLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM3Lm1haW5Mb2FkID0gZmFsc2U7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIF90aGlzNy5tYWluTG9hZCA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRXh0ZXJuYWxQbGF5OiBmdW5jdGlvbiBoYW5kbGVFeHRlcm5hbFBsYXkobmFtZSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgdGl0bGU6ICJQbGF5aW5nIEV4dGVybmFsbHkiLAogICAgICAgIG1lc3NhZ2U6ICJHZW5lcmF0aW5nIFN0cmVhbWluZyBMaW5rIiwKICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgfSk7CiAgICAgIHRoaXMubWFpbkxvYWQgPSB0cnVlOwogICAgICB0aGlzLiRiYWNrZW5kLnBvc3QoYXBpUm91dGVzLm1lZGlhVG9rZW5UcmFuc21pdHRlciwgewogICAgICAgIGVtYWlsOiB0aGlzLnVzZXIuZW1haWwsCiAgICAgICAgdG9rZW46IHRoaXMudG9rZW4udG9rZW4KICAgICAgfSwgYmFja2VuZEhlYWRlcnModGhpcy50b2tlbi50b2tlbikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYXV0aCAmJiByZXNwb25zZS5kYXRhLnJlZ2lzdGVyZWQgJiYgcmVzcG9uc2UuZGF0YS50b2tlbikgewogICAgICAgICAgdmFyIGxpbmsgPSBfdGhpczgudmlkZW91cmwgKyAiP3BsYXllcj1leHRlcm5hbCIgKyAiJmVtYWlsPSIgKyBfdGhpczgudXNlci5lbWFpbCArICImdG9rZW49IiArIHJlc3BvbnNlLmRhdGEudG9rZW47CgogICAgICAgICAgdmFyIGN1cnBsYXkgPSBfcGxheWVycyhsaW5rLCBfdGhpczgudmlkZW9uYW1lKS5maWx0ZXIoZnVuY3Rpb24gKHBsYXllcikgewogICAgICAgICAgICByZXR1cm4gcGxheWVyLm5hbWUgPT0gbmFtZTsKICAgICAgICAgIH0pWzBdOwoKICAgICAgICAgIF90aGlzOC5tYWluTG9hZCA9IGZhbHNlOwogICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGN1cnBsYXkuc2NoZW1lOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczgubWFpbkxvYWQgPSBmYWxzZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgX3RoaXM4Lm1haW5Mb2FkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9KTsKICAgIH0sCiAgICBkb3dubG9hZEJ1dHRvbjogZnVuY3Rpb24gZG93bmxvYWRCdXR0b24oKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICB0aXRsZTogIkRvd25sb2FkaW5nIE5vdyIsCiAgICAgICAgbWVzc2FnZTogIkdlbmVyYXRpbmcgTGlua3MgYW5kIERvd25sb2FkaW5nIiwKICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgfSk7CiAgICAgIHRoaXMubWFpbkxvYWQgPSB0cnVlOwogICAgICB0aGlzLiRiYWNrZW5kLnBvc3QoYXBpUm91dGVzLm1lZGlhVG9rZW5UcmFuc21pdHRlciwgewogICAgICAgIGVtYWlsOiB0aGlzLnVzZXIuZW1haWwsCiAgICAgICAgdG9rZW46IHRoaXMudG9rZW4udG9rZW4KICAgICAgfSwgYmFja2VuZEhlYWRlcnModGhpcy50b2tlbi50b2tlbikpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuYXV0aCAmJiByZXNwb25zZS5kYXRhLnJlZ2lzdGVyZWQgJiYgcmVzcG9uc2UuZGF0YS50b2tlbikgewogICAgICAgICAgdmFyIGxpbmsgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgZW5jb2RlVVJJKF90aGlzOS51cmwucmVwbGFjZSgvXlwvKFxkKzopXC8vLCAiLyQxZG93bi8iKSkgKyAiP3BsYXllcj1kb3dubG9hZCIgKyAiJmVtYWlsPSIgKyBfdGhpczkudXNlci5lbWFpbCArICImdG9rZW49IiArIHJlc3BvbnNlLmRhdGEudG9rZW47CiAgICAgICAgICBjb25zb2xlLmxvZyhsaW5rKTsKICAgICAgICAgIF90aGlzOS5tYWluTG9hZCA9IGZhbHNlOwogICAgICAgICAgbG9jYXRpb24uaHJlZiA9IGxpbms7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzOS5tYWluTG9hZCA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICBfdGhpczkubWFpbkxvYWQgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0pOwogICAgfSwKICAgIGdldEN1cnJWZEluZm86IGZ1bmN0aW9uIGdldEN1cnJWZEluZm8ocmF3RmlsZXMpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIHJhd0ZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZmlsZSkgewogICAgICAgIHJldHVybiBmaWxlLm5hbWUgPT0gX3RoaXMxMC51cmwuc3BsaXQoJy8nKS5wb3AoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VmlkZW91cmw6IGZ1bmN0aW9uIGdldFZpZGVvdXJsKCkgewogICAgICB0aGlzLnZpZGVvbmFtZSA9IHRoaXMudXJsLnNwbGl0KCcvJykucG9wKCk7CiAgICAgIHRoaXMudmlkZW91cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgZW5jb2RlVVJJKHRoaXMudXJsKTsKICAgICAgdGhpcy5hcGl1cmwgPSB0aGlzLnZpZGVvdXJsICsgIj9wbGF5ZXI9aW50ZXJuYWwiICsgIiZlbWFpbD0iICsgdGhpcy51c2VyLmVtYWlsICsgIiZ0b2tlbj0iICsgdGhpcy50b2tlbi50b2tlbjsKICAgIH0sCiAgICB0YXBQbGF5OiBmdW5jdGlvbiB0YXBQbGF5KCkgewogICAgICB0aGlzLmluZm9QYW5lbCA9IGZhbHNlOwogICAgICB0aGlzLnBsYXllci5wbGF5KCk7CiAgICB9LAogICAgcGxheU91dHNpZGU6IGZ1bmN0aW9uIHBsYXlPdXRzaWRlKGxpbmspIHsKICAgICAgdGhpcy5tb2RhbFZpZGVvID0gbGluay5yZXBsYWNlKCIvd2F0Y2g/dj0iLCAiL2VtYmVkLyIpOwogICAgICB0aGlzLnZpZGVvbW9kYWwgPSB0cnVlOwogICAgfSwKICAgIGdldEljb246IGZ1bmN0aW9uIGdldEljb24odHlwZSkgewogICAgICByZXR1cm4gIiMiICsgKHRoaXMuaWNvblt0eXBlXSA/IHRoaXMuaWNvblt0eXBlXSA6ICJpY29uLXdlaXpoaSIpOwogICAgfSwKICAgIGdldFBvc3RlcjogZnVuY3Rpb24gZ2V0UG9zdGVyKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHRoaXMub3JpZ2luYWxGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICByZXR1cm4gZmlsZS5uYW1lID09IF90aGlzMTEudmlkZW9uYW1lOwogICAgICB9KVswXS50aHVtYm5haWxMaW5rOwogICAgICB0aGlzLnBvc3RlciA9IGRhdGE7CiAgICB9LAogICAgc3dpcGVMZWZ0OiBmdW5jdGlvbiBzd2lwZUxlZnQoZnVuYykgewogICAgICB2YXIgY29udGVudCA9ICJ0aGlzLiRyZWZzLiIgKyBmdW5jOwogICAgICBzY3JvbGxUbyhldmFsKGNvbnRlbnQpLCAtMzAwLCA0MDApOwogICAgfSwKICAgIHN3aXBlUmlnaHQ6IGZ1bmN0aW9uIHN3aXBlUmlnaHQoZnVuYykgewogICAgICB2YXIgY29udGVudCA9ICJ0aGlzLiRyZWZzLiIgKyBmdW5jOwogICAgICBzY3JvbGxUbyhldmFsKGNvbnRlbnQpLCAzMDAsIDQwMCk7CiAgICB9LAogICAgYWN0aW9uOiBmdW5jdGlvbiBhY3Rpb24oZmlsZSwgdGFyZ2V0KSB7CiAgICAgIHZhciBwYXRoID0gZmlsZS5wYXRoOwoKICAgICAgaWYgKHRhcmdldCA9PT0gInZpZXciKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aDogY2hlY2tWaWV3KHBhdGgpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgZ2V0RmlsdGVyZWRGaWxlczogZnVuY3Rpb24gZ2V0RmlsdGVyZWRGaWxlcyhyYXdGaWxlcykgewogICAgICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogICAgICB2YXIgdmlkZW9SZWdleCA9IC8odmlkZW8pXC8oLispLzsKICAgICAgcmV0dXJuIHJhd0ZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZmlsZSkgewogICAgICAgIHJldHVybiBmaWxlLm5hbWUgIT0gX3RoaXMxMi51cmwuc3BsaXQoJy8nKS5wb3AoKTsKICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChmaWxlKSB7CiAgICAgICAgcmV0dXJuIHZpZGVvUmVnZXgudGVzdChmaWxlLm1pbWVUeXBlKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgIHNpdGVOYW1lOiBmdW5jdGlvbiBzaXRlTmFtZSgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIHdpbmRvdy5nZHMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIHJldHVybiBpbmRleCA9PSBfdGhpczEzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIH0pWzBdOwogICAgfSwKICAgIHVybDogZnVuY3Rpb24gdXJsKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLnBhdGgpIHsKICAgICAgICByZXR1cm4gZGVjb2RlNjQodGhpcy4kcm91dGUucGFyYW1zLnBhdGgpOwogICAgICB9CgogICAgICByZXR1cm4gIiI7CiAgICB9CiAgfSwgbWFwU3RhdGUoImFjcm91L3ZpZXciLCBbIm1vZGUiXSkpLCB7fSwgewogICAgcGxheWVyczogZnVuY3Rpb24gcGxheWVycygpIHsKICAgICAgcmV0dXJuIF9wbGF5ZXJzKCkubWFwKGZ1bmN0aW9uIChwbGF5ZXIpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmFtZTogcGxheWVyLm5hbWUsCiAgICAgICAgICBpY29uOiBwbGF5ZXIuaWNvbgogICAgICAgIH07CiAgICAgIH0pOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy4kYXVkaW8ucGxheWVyKCkgIT0gdW5kZWZpbmVkKSB0aGlzLiRhdWRpby5kZXN0cm95KCk7CgogICAgaWYgKHdpbmRvdy50aGVtZU9wdGlvbnMubG9hZGluZ19pbWFnZSkgewogICAgICB0aGlzLmxvYWRJbWFnZSA9IHdpbmRvdy50aGVtZU9wdGlvbnMubG9hZGluZ19pbWFnZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMubG9hZEltYWdlID0gImh0dHBzOi8vaS5pYmIuY28vYnNxSFcydy9MYW1wbGlnaHQtTW9iaWxlLmdpZiI7CiAgICB9CgogICAgdGhpcy5yZW5kZXIoKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgZ2RkYXRhID0gZ2V0Z2RzKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgICB0aGlzLmdkcyA9IGdkZGF0YS5nZHM7CiAgICB0aGlzLmN1cnJnZCA9IGdkZGF0YS5jdXJyZW50OwogIH0sCiAgd2F0Y2g6IHsKICAgIHNlYXJjaEJhclRlcm06IGZ1bmN0aW9uIHNlYXJjaEJhclRlcm0oKSB7CiAgICAgIGlmICh0aGlzLnNlYXJjaEJhclRlcm0ubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBzZWFyY2hSZWdleCA9IG5ldyBSZWdFeHAodGhpcy5zZWFyY2hCYXJUZXJtLnRvTG93ZXJDYXNlKCkpOwogICAgICAgIHRoaXMuZmlsZXMgPSB0aGlzLmdldEZpbHRlcmVkRmlsZXModGhpcy5vcmlnaW5hbEZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZmlsZSkgewogICAgICAgICAgcmV0dXJuIHNlYXJjaFJlZ2V4LnRlc3QoZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkpOwogICAgICAgIH0pKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZpbGVzID0gdGhpcy5nZXRGaWx0ZXJlZEZpbGVzKHRoaXMub3JpZ2luYWxGaWxlcyk7CiAgICAgIH0KICAgIH0sCiAgICBzY3JlZW5XaWR0aDogZnVuY3Rpb24gc2NyZWVuV2lkdGgoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2luZG93V2lkdGggPiAwID8gdGhpcy53aW5kb3dXaWR0aCA6IHRoaXMuc2NyZWVuV2lkdGg7CgogICAgICBpZiAod2lkdGggPiA5NjYpIHsKICAgICAgICB0aGlzLmlzbW9iaWxlID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc21vYmlsZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICB3aW5kb3dXaWR0aDogZnVuY3Rpb24gd2luZG93V2lkdGgoKSB7CiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2luZG93V2lkdGggPiAwID8gdGhpcy53aW5kb3dXaWR0aCA6IHRoaXMuc2NyZWVuV2lkdGg7CgogICAgICBpZiAod2lkdGggPiA5NjYpIHsKICAgICAgICB0aGlzLmlzbW9iaWxlID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc21vYmlsZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBwbGF5ZXI6IGZ1bmN0aW9uIHBsYXllcigpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgdGhpcy5wbGF5ZXIub24oJ3JlYWR5JywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTQucGxheWljb24gPSAiZmFzIGZhLWdsYXNzZXMiOwogICAgICAgIF90aGlzMTQucGxheXRleHQgPSAiTGV0J3MgUGFydHkiOwogICAgICB9KTsKICAgICAgdGhpcy5wbGF5ZXIub24oJ3BsYXlpbmcnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMxNC5wbGF5aWNvbiA9ICJmYXMgZmEtc3BpbiBmYS1jb21wYWN0LWRpc2MiOwogICAgICAgIF90aGlzMTQubWV0YXRpdGxlID0gIlBsYXlpbmciICsgIi0iICsgZGVjb2RlVVJJQ29tcG9uZW50KF90aGlzMTQudXJsLnNwbGl0KCcvJykucG9wKCkuc3BsaXQoJy4nKS5zbGljZSgwLCAtMSkuam9pbignLicpKTsKICAgICAgICBfdGhpczE0LnBsYXl0ZXh0ID0gIlBsYXlpbmciOwogICAgICB9KTsKICAgICAgdGhpcy5wbGF5ZXIub24oJ3BhdXNlJywgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMTQucGxheWljb24gPSAiZmFzIGZhLXBhdXNlIjsKICAgICAgICBfdGhpczE0Lm1ldGF0aXRsZSA9ICJQYXVzZWQiICsgIi0iICsgZGVjb2RlVVJJQ29tcG9uZW50KF90aGlzMTQudXJsLnNwbGl0KCcvJykucG9wKCkuc3BsaXQoJy4nKS5zbGljZSgwLCAtMSkuam9pbignLicpKTsKICAgICAgICBfdGhpczE0LnBsYXl0ZXh0ID0gIlBhdXNlZCI7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},null]}